2.5 Sistemas com Operações Genéricas

Na seção anterior, vimos como projetar sistemas nos quais os objetos de dados podem ser representados de mais de uma maneira. A ideia principal é vincular o código que especifica as operações de dados às várias representações por meio de funções de interface genéricas. Agora veremos como usar essa mesma ideia não apenas para definir operações que são genéricas em diferentes representações, mas também para definir operações que são genéricas em diferentes tipos de argumentos. Já vimos vários pacotes diferentes de operações aritméticas: a aritmética primitiva ( +, -, \*, /) construído em nossa língua, o número racional aritmética ( add_rat, sub_rat, mul_rat, div_rat) da seção [2.1.1](https://so45nujb3h4koud7nsjm2lne4u-ac4c6men2g7xr2a-github.translate.goog/sicp/chapters/2.1.1.html) , e a aritmética de números complexos que implementamos na seção [2.4.3](https://so45nujb3h4koud7nsjm2lne4u-ac4c6men2g7xr2a-github.translate.goog/sicp/chapters/2.4.3.html) . Agora usaremos técnicas direcionadas a dados para construir um pacote de operações aritméticas que incorpora todos os pacotes aritméticos que já construímos.

Figura [2,23](https://so45nujb3h4koud7nsjm2lne4u-ac4c6men2g7xr2a-github.translate.goog/sicp/chapters/2.5.html#fig_2.23) mostra a estrutura do sistema que iremos construir. Observe as barreiras de abstração. Da perspectiva de alguém que usa números, existe uma única função addque opera em quaisquer números fornecidos. A função addé parte de uma interface genérica que permite que os pacotes separados de aritmética ordinária, aritmética racional e aritmética complexa sejam acessados ​​uniformemente por programas que usam números. Qualquer pacote aritmético individual (como o pacote complexo) pode ser acessado por meio de funções genéricas (como add_complex) que combinam pacotes projetados para diferentes representações (como retangular e polar). Além disso, a estrutura do sistema é aditiva, de modo que se pode projetar os pacotes aritméticos individuais separadamente e combiná-los para produzir um sistema aritmético genérico.![](https://source-academy.github.io/sicp/img_javascript/ch2-Z-G-64.svg)

![](https://source-academy.github.io/sicp/img_javascript/ch2-Z-G-64.svg)

**[Figura 2.23](https://so45nujb3h4koud7nsjm2lne4u-ac4c6men2g7xr2a-github.translate.goog/sicp/chapters/2.5.html#fig_2.23)** Sistema aritmético genérico.
